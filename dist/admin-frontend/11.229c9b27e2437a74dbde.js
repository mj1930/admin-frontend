(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"I5/n":function(e,i,n){"use strict";n.r(i),n.d(i,"UserPermissionModule",(function(){return v}));var r=n("ofXK"),s=n("tk/3"),t=n("tyNb"),o=n("fXoL");let c=(()=>{class e{constructor(e){this.http=e}getAllPermission(){return this.http.post("permission/list-all-permission",{skip:0,limit:1e3})}addPermission(e){return this.http.post("permission/add-permission",e)}removePermission(e){return this.http.post("permission/remove-permission",e)}getUserPermission(e){return this.http.get("permission/list-user-permission/"+e)}getUsers(e){return this.http.post("permission/get-all-users",e)}}return e.\u0275fac=function(i){return new(i||e)(o.Ub(s.b))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n("J0GB");function b(e,i){if(1&e){const e=o.Rb();o.Qb(0,"div",14),o.Qb(1,"input",15),o.Xb("change",(function(i){o.qc(e);const n=o.Zb().$implicit;return o.Zb().changePermission(i,"product",n._id)})),o.Pb(),o.Qb(2,"label",16),o.yc(3),o.Pb(),o.Pb()}if(2&e){const e=i.$implicit,n=i.index,r=o.Zb(),s=r.index,t=r.$implicit;o.yb(1),o.hc("name","chan-pr-radio-product_",s,""),o.fc("checked",null!=t&&t.permission&&(null==t?null:t.permission.indexOf("product"))>-1?0==n:1==n)("value",e.value),o.yb(2),o.Ac(" ",e.text," ")}}function a(e,i){if(1&e){const e=o.Rb();o.Qb(0,"div",14),o.Qb(1,"input",17),o.Xb("change",(function(i){o.qc(e);const n=o.Zb().$implicit;return o.Zb().changePermission(i,"order",n._id)})),o.Pb(),o.Qb(2,"label",18),o.yc(3),o.Pb(),o.Pb()}if(2&e){const e=i.$implicit,n=i.index,r=o.Zb(),s=r.index,t=r.$implicit;o.yb(1),o.hc("name","chan-pr-radio-order_",s,""),o.fc("checked",null!=t&&t.permission&&(null==t?null:t.permission.indexOf("order"))>-1?0==n:1==n)("value",e.value),o.yb(2),o.Ac(" ",e.text," ")}}function p(e,i){if(1&e){const e=o.Rb();o.Qb(0,"div",14),o.Qb(1,"input",19),o.Xb("change",(function(i){o.qc(e);const n=o.Zb().$implicit;return o.Zb().changePermission(i,"seller",n._id)})),o.Pb(),o.Qb(2,"label",20),o.yc(3),o.Pb(),o.Pb()}if(2&e){const e=i.$implicit,n=i.index,r=o.Zb(),s=r.index,t=r.$implicit;o.yb(1),o.hc("name","chan-pr-radio-seller_",s,""),o.fc("checked",null!=t&&t.permission&&(null==t?null:t.permission.indexOf("seller"))>-1?0==n:1==n)("value",e.value),o.yb(2),o.Ac(" ",e.text," ")}}function d(e,i){if(1&e){const e=o.Rb();o.Qb(0,"div",14),o.Qb(1,"input",21),o.Xb("change",(function(i){o.qc(e);const n=o.Zb().$implicit;return o.Zb().changePermission(i,"category",n._id)})),o.Pb(),o.Qb(2,"label",22),o.yc(3),o.Pb(),o.Pb()}if(2&e){const e=i.$implicit,n=i.index,r=o.Zb(),s=r.index,t=r.$implicit;o.yb(1),o.hc("name","chan-pr-radio-category",s,""),o.fc("checked",null!=t&&t.permission&&(null==t?null:t.permission.indexOf("category"))>-1?0==n:1==n)("value",e.value),o.yb(2),o.Ac(" ",e.text," ")}}function m(e,i){if(1&e){const e=o.Rb();o.Qb(0,"div",14),o.Qb(1,"input",23),o.Xb("change",(function(i){o.qc(e);const n=o.Zb().$implicit;return o.Zb().changePermission(i,"permission",n._id)})),o.Pb(),o.Qb(2,"label",24),o.yc(3),o.Pb(),o.Pb()}if(2&e){const e=i.$implicit,n=i.index,r=o.Zb(),s=r.index,t=r.$implicit;o.yb(1),o.hc("name","chan-pr-radio-permission",s,""),o.fc("checked",null!=t&&t.permission&&(null==t?null:t.permission.indexOf("permission"))>-1?0==n:1==n)("value",e.value),o.yb(2),o.Ac(" ",e.text," ")}}function u(e,i){if(1&e&&(o.Qb(0,"tr"),o.Qb(1,"td"),o.Qb(2,"p"),o.yc(3),o.Pb(),o.Pb(),o.Qb(4,"td"),o.xc(5,b,4,4,"div",13),o.Pb(),o.Qb(6,"td"),o.xc(7,a,4,4,"div",13),o.Pb(),o.Qb(8,"td"),o.xc(9,p,4,4,"div",13),o.Pb(),o.Qb(10,"td"),o.xc(11,d,4,4,"div",13),o.Pb(),o.Qb(12,"td"),o.xc(13,m,4,4,"div",13),o.Pb(),o.Pb()),2&e){const e=i.$implicit,n=o.Zb();o.yb(3),o.zc(null==e?null:e.name),o.yb(2),o.fc("ngForOf",n.radioOptions),o.yb(2),o.fc("ngForOf",n.radioOptions),o.yb(2),o.fc("ngForOf",n.radioOptions),o.yb(2),o.fc("ngForOf",n.radioOptions),o.yb(2),o.fc("ngForOf",n.radioOptions)}}const h=[{path:"",component:(()=>{class e{constructor(e){this.userPermissionService=e,this.users=[],this.radioOptions=[{text:"Allow",value:"true"},{text:"DisAllow",value:"false"}],this.permissions=[]}ngOnInit(){this.getUserListing()}getUserListing(){this.userPermissionService.getUsers({skip:0,limit:1e4}).subscribe(e=>{console.log(e),this.users=e.data,this.getAllPermissions()},e=>{console.log(e)})}getAllPermissions(){this.userPermissionService.getAllPermission().subscribe(e=>{console.log(e),this.users.forEach(i=>{for(let n=0;n<e.data.length;n++)i._id==e.data[n].userId&&(i.permission=e.data[n].permissions)})},e=>{console.log(e)})}addPermissions(e,i){this.userPermissionService.addPermission({permission:e,userId:i}).subscribe(e=>{console.log(e)},e=>{console.log(e)})}removePermissions(e,i){this.userPermissionService.removePermission({permission:e,userId:i}).subscribe(e=>{console.log(e)},e=>{console.log(e)})}changePermission(e,i,n){"true"==e.target.value?this.addPermissions(i,n):this.removePermissions(i,n)}}return e.\u0275fac=function(i){return new(i||e)(o.Mb(c))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-user-permission"]],decls:32,vars:1,consts:[[1,"page-wrapper","chiller-theme","toggled"],[1,"page-content"],[1,"container-fluid"],[1,"row"],[1,"table-responsive","rounded","table-striped","table-bordered"],[1,"table"],[1,"grey","lighten-2","small","text-uppercase"],[1,"text-nowrap"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"mb-2"],[1,"fa","fa-heart",2,"color","red"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","id","chan-pr-1-product",1,"form-check-input",3,"checked","value","name","change"],["for","chan-pr-1-product",1,"form-check-label"],["type","radio","id","chan-pr-1-order",1,"form-check-input",3,"checked","value","name","change"],["for","chan-pr-1-order",1,"form-check-label"],["type","radio","id","chan-pr-1-seller",1,"form-check-input",3,"checked","value","name","change"],["for","chan-pr-1-seller",1,"form-check-label"],["type","radio","id","chan-pr-1-category",1,"form-check-input",3,"checked","value","name","change"],["for","chan-pr-1-category",1,"form-check-label"],["type","radio","id","chan-pr-1-permission",1,"form-check-input",3,"checked","value","name","change"],["for","chan-pr-1-permission",1,"form-check-label"]],template:function(e,i){1&e&&(o.Qb(0,"div",0),o.Nb(1,"app-side-navigation"),o.Qb(2,"main",1),o.Qb(3,"div",2),o.Qb(4,"h2"),o.yc(5,"User Rights Management"),o.Pb(),o.Nb(6,"hr"),o.Qb(7,"div",3),o.Qb(8,"div",4),o.Qb(9,"table",5),o.Qb(10,"thead",6),o.Qb(11,"tr",7),o.Qb(12,"th",8),o.yc(13,"Name"),o.Pb(),o.Qb(14,"th",8),o.yc(15,"Product"),o.Pb(),o.Qb(16,"th",8),o.yc(17,"Order"),o.Pb(),o.Qb(18,"th",8),o.yc(19,"Seller"),o.Pb(),o.Qb(20,"th",8),o.yc(21,"Category"),o.Pb(),o.Qb(22,"th",8),o.yc(23,"Permission"),o.Pb(),o.Pb(),o.Pb(),o.Qb(24,"tbody"),o.xc(25,u,14,6,"tr",9),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(26,"footer",10),o.Qb(27,"div",11),o.Qb(28,"small"),o.yc(29," \xa9 2021 made with "),o.Nb(30,"i",12),o.yc(31," All Rights Reserved "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.yb(25),o.fc("ngForOf",i.users))},directives:[l.a,r.j],styles:[""]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(i){return new(i||e)},imports:[[t.e.forChild(h)],t.e]}),e})();var P=n("WeEj"),g=n("PCNd");let v=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(i){return new(i||e)},providers:[c,P.a],imports:[[r.b,f,s.c,g.a]]}),e})()}}]);